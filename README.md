<a href="https://usmileclinic.ru/">
    <img src="./media/site_logo.jpg" alt="Usmile logo" title="Usmile" align="right" height="60" />
</a>

# ü¶∑ USMILE Telegram Bot

<p align="center">
    <a href="https://t.me/usmile_cert_bot">
        <img alt="telegram-bot" src="./media/bot_logo_small.png">
    </a>
</p>

–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ usmile

‚≠êÔ∏è –ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É - —ç—Ç–æ –æ—á–µ–Ω—å –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç)

## –§—É–Ω–∫—Ü–∏–∏

- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Å–æ–±—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- –ü—Ä–æ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ, –ø–∞—Ä—Ç–Ω–µ—Ä –ø–æ–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–π –±–∞–ª–∞–Ω—Å
- –ü–∞—Ä—Ç–Ω–µ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–π –±–∞–ª–∞–Ω—Å
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –ø–æ–º–µ—Ç–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç–µ–∫

- [Python3](https://www.python.org/)
- [Aiogram3](https://aiogram.dev/) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–≤
- [Peewee](https://github.com/coleifer/peewee) - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è ORM
- [Docker](https://www.docker.com/) - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [Docker Compose](https://docs.docker.com/compose/) - —É–¥–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [PostgreSQL](https://www.postgresql.org/) - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [Redis](https://redis.io/) - –±—ã—Å—Ç—Ä–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–ø–∞ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–æ —á—Ç–æ–±—ã –≤ –≤–∞—à–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É:

```bash
python3 -m venv .venv
source ./.venv/bin/activate
pip install -r requirements.txt
```

#### –ó–∞–ø—É—Å–∫

```bash
docker compose --profile dev up --build
```

- `--profile dev` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `up` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
- `--build` - –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

–ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–∞–π–ª—ã –Ω–∞ –¥–∏—Å–∫–µ –±–æ—Ç –ø–µ—Ä–µ–ø—É—Å–∫–∞–µ—Ç—Å—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é [volumes](https://docs.docker.com/engine/storage/volumes/) –∏ [watchdog](https://pypi.org/project/watchdog/)

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

–í—Å–µ –ø–∞–∫–µ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ—Å—è –ø—Ä–æ–µ–∫—Ç–æ–º (–¥–∞–∂–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `requirements.txt`

–ö–æ–º–∞–Ω–¥—ã –Ω–∏–∂–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç, —á—Ç–æ–≤—ã —É–∂–µ [—É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

```bash
pip install package # package - –≤–∞—à –ø–∞–∫–µ—Ç
pip freeze > requirements.txt # –æ–±–Ω–æ–≤–ª—è–µ—Ç requirements.txt
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω

_–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞_

```bash
docker compose --profile prod up -d
```

- `--profile prod` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã docker –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- `up` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç
- `-d` - —Ñ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
